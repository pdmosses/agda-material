# About Agda-Material

!!! warning

    This version was deployed from the `dev` branch of the repository

Agda-Material supports **generation of websites and PDFs** with
**highlighted listings** of (plain or literate) Agda source code.

See the **[README]** page for how to create a repository for using
Agda-Material.

See the **[User Guide]** for a summary of how to generate websites and PDFs
with Agda-Material.

## Background

Agda can generate highlighted, hyperlinked web pages from a root module,
automatically generating a separate page for each imported module. But it is
left to the user to incorporate the generated pages in a website, and to
publish the website.

Agda can also generate LaTeX code for highlighting the source code from a
literate Agda module; LaTeX code for imported modules has to be generated
separately. It is left to the user to include the generated code in a
complete LaTeX document, and to compile the document to produce a PDF.

Agda-Material automates the steps that Agda leaves to the user. After creating
a GitHub repository from the Agda-Material template and adding Agda code, 
some simple commands generate a website and a PDF with highlighted listings of
the root module and all its imported modules, and publish the website on
GitHub Pages -- optionally with multiple versions.

## Main features

- **Automatic regeneration**:
  `make all` generates or updates a website and PDF with highlighted listings.

- **Local preview**:
  `make serve` lets you browse the updated website and PDF locally.

- **Automatic publication**:
  `make deploy` publishes the website on GitHub Pages.

### Generated websites

- **Navigation menu**:
  a generated hierarchical menu with links to all imported Agda modules.
  Each page shows the path to the current page (so-called breadcrumbs).

- **In-page section navigation**:
  a page with nested modules has hierarchical sections for the submodules,
  and displays a list of links to the submodules.

- **Hyperlinks**:
  clicking on a name in a generated web page jumps to its declaration
  and shows the location of the module in the navigation hierarchy.

- **Highlighted occurrences**:
  hovering over a name highlights *all* the occurrences of that name
  on the page.

- **Light or dark**:
  users can toggle between light, dark, and automatic color palettes.

- **Responsive page layout**:
  for browsing on tablets and mobile devices as well as desktop displays.

- **Options**:
  a generated website can include the ordinary HTML pages generated by Agda,
  and the generated PDF.

- **Versioning**:
  when multiple versions of a website have been published, users can switch
  between them in the browser.

- **Search**:
  the browser displays all files that contain occurrences of any of the words
  specified in the search field.[^1]

### Generated PDFs

- **Generated LaTeX document**:
  inputs the LaTeX files generated by Agda from the root module and
  the local imported modules.

- **Plain or literate Agda sources**:
  plain Agda files are highlighted by wrapping them in a `code` environment.

- **Good Unicode support**:
  commonly-used Unicode characters are translated to LaTeX.

- **Table of contents**:
  the listing of each included module is in a separate section.

- **Adjustable highlighting style**:
  options supported by the LaTeX package `agda.sty` can be selected.

[^1]:
    Search works best for websites where each page is divided into small
    sections. It is currently of limited use for websites generated from
    large Agda modules.

  [README]: README.md
  [User Guide]: user-guide.md