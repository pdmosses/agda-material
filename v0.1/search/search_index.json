{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Agda-Material","text":"<p>Agda-Material automates the steps that Agda leaves to the user when generating web pages and LaTeX files.</p> <p>This is the README page for the repository pdmosses/agda-material. It explains how to create a repository for using Agda-Material.</p> <p>See the home page for an overview of motivation and features.</p> <p>See the user guide for a summary of how to generate websites and PDFs with Agda-Material.</p>"},{"location":"#repository-contents","title":"Repository contents","text":"<p>The repository contains the following files:</p> <ul> <li><code>agda</code>: directory for Agda source code</li> <li><code>docs</code>: directory for generating a website<ul> <li><code>docs/javascripts</code>: directory for Javascript files</li> <li><code>docs/stylesheets</code>: directory for CSS files</li> <li><code>docs/.nav.yml</code>: configuration file for navigation panels</li> <li><code>docs/about.md</code>: Markdown source for the home page</li> <li><code>docs/README.md</code>: Markdown source for this README page</li> <li><code>docs/Library/index.md</code>: Markdown source for the Library page</li> </ul> </li> <li><code>agda-custom.sty</code>: package for overriding commands defined in <code>agda.sty</code></li> <li><code>agda-unicode.sty</code>: package mapping Unicode characters for Agda to LaTeX</li> <li><code>Makefile</code>: automation of website and PDF generation</li> <li><code>mkdocs.yml</code>: configuration file for the generated website</li> <li><code>UNLICENSE</code>: release into the public domain</li> </ul> <p>The repository does not contain any generated files.</p> <p>By default, Agda-Material creates generated files in the following directories:</p> <ul> <li><code>docs/html</code>: HTML files</li> <li><code>docs/md</code>: Markdown files</li> <li><code>docs/pdf</code>: PDF files</li> <li><code>latex</code>: LaTeX files</li> </ul> <p>The default directories for Agda source code and generated files can be changed by editing the <code>Makefile</code>.</p> <p>The location of the directory <code>docs</code> can be configured by setting <code>docs_dir</code> in <code>mkdocs.yml</code>.</p>"},{"location":"#software-dependencies","title":"Software dependencies","text":"<p>Agda-Material has been tested with the software versions listed below. It should produce similar results with other recent versions.</p> <ul> <li>Agda (2.8.0)</li> <li>GNU Make (3.81)</li> <li>sd (1.0.0)</li> </ul>"},{"location":"#website-generation","title":"Website generation","text":"<ul> <li>Python 3 (3.14.0)</li> <li>pipx (1.8.0)</li> <li>MkDocs (1.6.1)</li> <li>Material for MkDocs (9.6.23)</li> <li>Awesome-nav (3.2.0)</li> </ul>"},{"location":"#versioned-websites","title":"Versioned websites","text":"<ul> <li>mike (2.0.0)</li> </ul>"},{"location":"#pdf-generation","title":"PDF generation","text":"<ul> <li>TeXLive (2025)</li> </ul>"},{"location":"#platform-dependencies","title":"Platform dependencies","text":"<p>Agda-Material has been developed and tested on MacBook laptops with Apple M1 and M3 chips running macOS Sequoia (15.6) with CLI Tools.</p> <p>Please report any issues with using Agda-Material on other platforms, including all relevant details. Pull requests for addressing such issues are welcome.</p>"},{"location":"#installing-agda-material","title":"Installing Agda-Material","text":"<p>Check that you have installed all the relevant software dependencies.</p> <p>Then:</p>"},{"location":"#either-create-a-fresh-repository","title":"Either create a fresh repository","text":"<p>On pdmosses/agda-material:</p> <ul> <li>Click on the Use this template button (near the top of the page)</li> </ul> <p>Locally: </p> <ul> <li>Clone the resulting repository</li> </ul>"},{"location":"#or-copy-files-to-your-existing-repository","title":"Or copy files to your existing repository","text":"<p>On pdmosses/agda-material:</p> <ul> <li>Click on &lt;&gt; Code then Clone or Download</li> </ul> <p>Locally:</p> <ul> <li> <p>Copy/merge the following files and directories from <code>agda-material</code>   to your repository:</p> <ul> <li><code>Makefile</code></li> <li><code>mkdocs.yml</code></li> <li><code>agda-custom.sty</code></li> <li><code>agda-unicode.sty</code></li> <li><code>agda/*</code></li> <li><code>docs/*</code></li> <li><code>.gitignore</code></li> </ul> </li> </ul>"},{"location":"#testing-agda-material","title":"Testing Agda-Material","text":"<ol> <li> <p>In a terminal:</p> <pre><code>cd agda-material\nmake all\nmake serve\n</code></pre> </li> <li> <p>Then in a web browser:</p> <ul> <li>Open <code>localhost:8000/agda-material</code></li> <li>Check that the local site corresponds to <code>https://pdmosses.github.io/agda-material</code></li> </ul> </li> <li> <p>In the terminal:</p> <pre><code>make clean-all\n</code></pre> <p>Check that the following generated directories have all been removed:</p> <ul> <li><code>docs/html</code></li> <li><code>docs/md</code></li> <li><code>docs/pdf</code></li> <li><code>latex</code></li> </ul> </li> </ol>"},{"location":"#preparing-to-use-agda-material","title":"Preparing to use Agda-Material","text":""},{"location":"#update-the-mkdocs-settings","title":"Update the MkDocs settings","text":"<p>In <code>mkdocs.yml</code>, update the repository settings:</p> <ul> <li><code>site_name</code></li> <li><code>site_url</code></li> <li><code>repo_name</code></li> <li><code>repo_url</code></li> </ul>"},{"location":"#replace-the-agda-modules","title":"Replace the Agda modules","text":"<ul> <li>Remove the <code>agda</code> directory.</li> <li>Add a directory containing your own Agda modules.</li> <li> <p>In <code>Makefile</code>:</p> <ul> <li>set the value of <code>DIR</code> to the directory containing your Agda modules</li> <li>set the value of <code>ROOT</code> to the path to a module that imports   all the other modules to be listed in the website</li> </ul> </li> </ul>"},{"location":"#update-markdown-source-files-and-navigation","title":"Update Markdown source files and navigation","text":"<p>In the <code>docs</code> directory:</p> <ul> <li>replace <code>about.md</code>, <code>README.md</code>, and <code>user-guide.md</code> by your own file(s)</li> <li>update <code>.nav.yml</code> to create the navigation hierarchy for generated websites</li> </ul> <p>See the user guide for a summary of how to generate websites and PDFs with Agda-Material.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Please use the issue tracker to report any issues that arise.</p> <p>Comments and suggestions for improvement are welcome, and can be added as [Discussions].</p>"},{"location":"#contact","title":"Contact","text":"<p>Peter Mosses</p> <p>p.d.mosses@tudelft.nl</p> <p>pdmosses.github.io</p>"},{"location":"about/","title":"About Agda-Material","text":"<p>Agda-Material supports generation of websites and PDFs with highlighted listings of (plain or literate) Agda source code.</p> <p>See the README page for how to create a repository for using Agda-Material.</p> <p>See the user guide for a summary of how to generate websites and PDFs with Agda-Material.</p>"},{"location":"about/#background","title":"Background","text":"<p>Agda can generate highlighted, hyperlinked web pages from a root module, automatically generating a separate page for each imported module. But it is left to the user to incorporate the generated pages in a website, and to publish the website.</p> <p>Agda can also generate LaTeX code for highlighting the source code from a literate Agda module; LaTeX code for imported modules has to be generated separately. It is left to the user to include the generated code in a complete LaTeX document, and to compile the document to produce a PDF.</p> <p>Agda-Material automates the steps that Agda leaves to the user. After creating a GitHub repository from the Agda-Material template and adding Agda code,  some simple commands generate a website and a PDF with highlighted listings of the root module and all its imported modules, and publish the website on GitHub Pages -- optionally with multiple versions.</p>"},{"location":"about/#main-features","title":"Main features","text":"<ul> <li> <p>Automatic regeneration:   <code>make all</code> generates or updates a website and PDF with highlighted listings.</p> </li> <li> <p>Local preview:   <code>make serve</code> lets you browse the updated website and PDF locally.</p> </li> <li> <p>Automatic publication:   <code>make deploy</code> publishes the website on GitHub Pages.</p> </li> </ul>"},{"location":"about/#generated-websites","title":"Generated websites","text":"<ul> <li> <p>Navigation menu:   a generated hierarchical menu with links to all imported Agda modules.</p> </li> <li> <p>Hyperlinks:   clicking on a name in a generated web page jumps to its declaration   and shows the location of the module in the navigation hierarchy.</p> </li> <li> <p>Light or dark:   users can toggle between light, dark, and automatic color palettes.</p> </li> <li> <p>Responsive page layout:   for browsing on tablets and mobile devices as well as desktop displays.</p> </li> <li> <p>Options:   a generated website can include the ordinary HTML pages generated by Agda,   and the generated PDF.</p> </li> <li> <p>Versioning:   when multiple versions of a website have been published, users can switch   between them in the browser.</p> </li> </ul>"},{"location":"about/#generated-pdfs","title":"Generated PDFs","text":"<ul> <li> <p>Generated LaTeX document:   inputs the LaTeX files generated by Agda from the root module and   the local imported modules.</p> </li> <li> <p>Plain or literate Agda sources:   plain Agda files are highlighted by wrapping them in a <code>code</code> environment.</p> </li> <li> <p>Good Unicode support:   commonly-used Unicode characters are translated to LaTeX.</p> </li> <li> <p>Table of contents:   the listing of each included module is in a separate section.</p> </li> <li> <p>Adjustable highlighting style:   options supported by the LaTeX package <code>agda.sty</code> can be selected.</p> </li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>This page summarises how to use Agda-Material to generate a website and a PDF with highlighted listings of your (plain and/or literate) Agda source files.</p> <p>It is assumed that you have a local clone of a GitHub repository that includes the required directories and files (see the Agda-Material README page) together with your Agda source files.</p> <p>All the <code>make</code> commands shown below are to be run from the base directory of your local clone.</p> <p>Tip</p> <p>If you have not already checked your Agda code, run <code>make check</code>.</p> <p>Then run <code>make web</code> to generate web pages, and <code>make serve</code> to browse them.</p> <p>If you want to include a PDF listing of your code in the website, run <code>make pdf</code>, then <code>make serve</code> to access and browse the PDF.</p> <p>When you are satisfied with the navigation and content of the website, run <code>make deploy</code> to publish it on GitHub Pages.</p> <p>If you want to publish multiple versions of your website, choose a version numbering scheme and the number for the first version, then run <code>make initial VERSION=...</code> to replace the previously deployed website on GitHub Pages by your versioned site.</p> <p>Warning</p> <p>If you run <code>make clean-all</code> to delete all the generated files, running <code>make deploy</code> replaces the generated website by an empty site!</p>"},{"location":"user-guide/#generating-websites","title":"Generating websites","text":"<code>make</code> Effect <code>help</code> show explanations of the main targets <code>check</code> load the ROOT source file and all imported files <code>web</code> generate web pages listing ROOT and all imported files <code>pdf</code> generate a PDF listing ROOT and local imported files <code>all</code> combine the effects of <code>check</code>, <code>web</code>, and <code>pdf</code> <code>clean-all</code> remove all generated files <code>debug</code> show values of variables (for developer use) <p>Generating a PDF is optional. The rendering and alignment of Agda code can be better in PDF than in HTML (especially regarding Unicode characters) but hyperlinks from names to declarations are not supported.</p>"},{"location":"user-guide/#browsing-and-deploying-generated-websites","title":"Browsing and deploying generated websites","text":"<code>make</code> Effect <code>serve</code> browse the generated web pages using a local server <code>deploy</code> publish the generated web pages on GitHub Pages"},{"location":"user-guide/#deploying-versions-of-websites","title":"Deploying versions of websites","text":"<p>mike makes it easy to deploy multiple versions of your website. It is enabled by adding the following setting to <code>mkdocs.yml</code>:</p> <pre><code>extra:\n  version:\n    provider: mike\n</code></pre> <p>A version selector is then shown at the top of each page. Version identifiers that \"look like\" versions (e.g. <code>1.2.3</code>, <code>1.0b1</code>, <code>v1.0</code>) are treated as ordinary versions, whereas other identifiers, like <code>devel</code>, are treated as development versions, and placed above ordinary versions.</p> <p>When deploying the generated website as a version, other versions of the website remain untouched. Deployed versions can however be subsequently updated or deleted.</p> <p>The Agda-Material <code>make</code> commands support a simple form of version management, with <code>default</code> as the only alias for deployed versions.</p> <p>If the specified version has already been deployed, redeployment updates the contents to the current generated website.</p> <code>make</code> Parameter Effect <code>initial</code> <code>VERSION=v</code> delete deployed versions, deploy version <code>v</code>, update default <code>default</code> <code>VERSION=v</code> deploy verion <code>v</code>, update default <code>extra</code> <code>VERSION=v</code> deploy version <code>v</code> <code>delete</code> <code>VERSION=v</code> remove deployment of version <code>v</code> <code>serve-all</code> browse all deployed versions using a local server <p>Warning</p> <p>Deleting the <code>default</code> version can break existing links to the website!</p> <p>To avoid that, first use <code>make default VERSION=v'</code> to change the default to a different version.</p> <p>The deployment commands automatically commit the version changes to GitHub Pages. However, they do not commit local changes of the Agda and Markdown source files to the repository.</p> <p>For further version management commands, see the mike documentation.</p>"},{"location":"Library/","title":"Library","text":"<p>Note</p> <p>The Agda library modules imported by non-library modules are automatically included in this section.</p>"},{"location":"md/Agda/Primitive/","title":"Agda.Primitive","text":"<pre>-- The Agda primitives (preloaded).\n\n{-# OPTIONS --cubical-compatible --no-import-sorts --level-universe #-}\n\nmodule Agda.Primitive where\n\n------------------------------------------------------------------------\n-- Universe levels\n------------------------------------------------------------------------\n\ninfixl 6 _\u2294_\n\n{-# BUILTIN PROP           Prop      #-}\n{-# BUILTIN TYPE           Set       #-}\n{-# BUILTIN STRICTSET      SSet      #-}\n\n{-# BUILTIN PROPOMEGA      Prop\u03c9     #-}\n{-# BUILTIN SETOMEGA       Set\u03c9      #-}\n{-# BUILTIN STRICTSETOMEGA SSet\u03c9     #-}\n\n{-# BUILTIN LEVELUNIV      LevelUniv #-}\n\n-- Level is the first thing we need to define.\n-- The other postulates can only be checked if built-in Level is known.\n\npostulate\n  Level : LevelUniv\n\n-- MAlonzo compiles Level to (). This should be safe, because it is\n-- not possible to pattern match on levels.\n\n{-# BUILTIN LEVEL Level #-}\n\npostulate\n  lzero : Level\n  lsuc  : (\u2113 : Level) \u2192 Level\n  _\u2294_   : (\u2113\u2081 \u2113\u2082 : Level) \u2192 Level\n\n{-# BUILTIN LEVELZERO lzero #-}\n{-# BUILTIN LEVELSUC  lsuc  #-}\n{-# BUILTIN LEVELMAX  _\u2294_   #-}\n</pre>"},{"location":"md/Test/","title":"Test","text":"<p>Copied from examples/syntax/highlighting/Test3.lagda in the agda/agda repository, with additional literate prose by @pdmosses</p> <p>This test file currently lacks module-related stuff.</p> <p>And interesting uses of shadowing.</p> <pre>\nmodule Test where\n\ninfix  12 _!\ninfixl  7 _+_ _-_\ninfixr  2 -_\n\ndata \u2115 : Set where\n  zero : \u2115\n  suc  : \u2115 -&gt; \u2115\n</pre> <p>The type Set is declared in the built-in module Agda.Primitive.</p> <pre>\n_+_ : \u2115 -&gt; \u2115 -&gt; \u2115\nzero  + n = n\nsuc m + n = suc (m + n)\n\npostulate _-_ : \u2115 -&gt; \u2115 -&gt; \u2115\n\n-_ : \u2115 -&gt; \u2115\n- n = n\n\n_! : \u2115 -&gt; \u2115\nzero  ! = suc zero\nsuc n ! = n - n !\n\nrecord Equiv {a : Set} (_\u2248_ : a -&gt; a -&gt; Set) : Set where\n  field\n    refl      : forall x       -&gt; x \u2248 x\n    sym       : {x y : a}      -&gt; x \u2248 y -&gt; y \u2248 x\n    _`trans`_ : forall {x y z} -&gt; x \u2248 y -&gt; y \u2248 z -&gt; x \u2248 z\n\ndata _\u2261_ {a : Set} (x : a) : a -&gt; Set where\n  refl : x \u2261 x\n\nsubst : forall {a x y} -&gt;\n  (P : a -&gt; Set) -&gt; x \u2261 y -&gt; P x -&gt; P y\nsubst {x = x} .{y = x} _ refl p = p\n\nEquiv-\u2261 : forall {a} -&gt; Equiv {a} _\u2261_\nEquiv-\u2261 {a} =\n  record { refl      = \\_ -&gt; refl\n         ; sym       = sym\n         ; _`trans`_ = _`trans`_\n         }\n  where\n  sym : {x y : a} -&gt; x \u2261 y -&gt; y \u2261 x\n  sym refl = refl\n\n  _`trans`_ : {x y z : a} -&gt; x \u2261 y -&gt; y \u2261 z -&gt; x \u2261 z\n  refl `trans` refl = refl\n\npostulate\n  String : Set\n  Char   : Set\n  Float  : Set\n\n{-# BUILTIN STRING  String #-}\n{-# BUILTIN CHAR    Char   #-}\n{-# BUILTIN FLOAT   Float  #-}\n\n{-# BUILTIN NATURAL \u2115      #-}\n\ndata [_] (a : Set) : Set where\n  []  : [ a ]\n  _\u2237_ : a -&gt; [ a ] -&gt; [ a ]\n\n{-# BUILTIN LIST [_] #-}\n-- {-# BUILTIN NIL  []  #-}\n-- {-# BUILTIN CONS _\u2237_ #-}\n\nprimitive\n  primStringToList : String -&gt; [ Char ]\n\nstring : [ Char ]\nstring = primStringToList \"\u2203 apa\"\n\nchar : Char\nchar = '\u2200'\n\nanotherString : String\nanotherString = \"\u00ac be\\\n    \\pa\"\n\nnat : \u2115\nnat = 45\n\nfloat : Float\nfloat = 45.0e-37\n</pre>"},{"location":"md/Test/All/","title":"Test.All","text":"<p>First text line</p> <pre>\nmodule Test.All where\n\nimport Test\nimport Test.Sub.Base\n\n-- Just testing...\n</pre> <p>Literate prose is included in generated webpages and PDFs. It is generally rendered as plain text:</p> <ul> <li> <p>Blank lines produce paragraph breaks,   but line breaks and indentation are otherwise ignored.</p> </li> <li> <p>URLs do not become links.</p> </li> <li> <p>Characters treated as special by LaTeX lead to errors when generating PDFs.</p> </li> <li> <p>Use of Unicode characters in generated PDFs may require mapping them to   LaTeX markup.</p> </li> </ul> <p>The subset of LaTeX math markup supported by KaTeX (https://katex.org) is rendered correctly in webpages and PDFs. The following examples are from the Material for MkDocs website:</p> \\[ \\cos x=\\sum_{k=0}^{\\infty}\\frac{(-1)^k}{(2k)!}x^{2k} \\] <p>The homomorphism \\(f\\) is injective if and only if its kernel is only the singleton set \\(e_G\\), because otherwise \\(\\exists a,b\\in G\\) with \\(a\\neq b\\) such that \\(f(a)=f(b)\\).</p> <pre>\n-- More code\n</pre> <p>Last text line</p>"},{"location":"md/Test/Sub/Base/","title":"Test.Sub.Base","text":"<pre>\nmodule Test.Sub.Base where\n</pre> <p>This module is imported by Test.All,  and should be included in the website generated from Test.All.</p>"}]}