{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Agda-Material","text":"<p>Agda-Material automates the steps that Agda leaves to the user when generating web pages and LaTeX files.</p> <p>This is the README page for the repository [pdmosses/agda-material]. It explains how to install, test, and make use of Agda-Material. See the [About] page for an overview of motivation and features.</p>"},{"location":"#repository-contents","title":"Repository contents","text":"<p>The repository contains the following files:</p> <ul> <li><code>agda</code>: directory for Agda source code</li> <li><code>docs</code>: directory for generating a website<ul> <li><code>docs/javascripts</code>: directory for added Javascript files</li> <li><code>docs/stylesheets</code>: directory for added CSS files</li> <li><code>docs/.nav.yml</code>: configuration file for navigation panels</li> <li><code>docs/about.md</code>: Markdown source for the [About] page</li> <li><code>docs/README.md</code>: Markdown source for the home page</li> </ul> </li> <li><code>agda-custom.tex</code>: file for overriding commands defined in <code>agda.sty</code></li> <li><code>Makefile</code>: automation of website and PDF generation</li> <li><code>mkdocs.yml</code>: configuration file for generated websites</li> <li><code>UNLICENSE</code>: release into the public domain</li> </ul> <p>The repository does not contain any generated files. By default, Agda-Material creates generated files in the following directories:</p> <ul> <li><code>docs/html</code>: HTML files</li> <li><code>docs/md</code>: Markdown files</li> <li><code>docs/pdf</code>: PDF files</li> <li><code>latex</code>: LaTeX files</li> </ul> <p>The default directories for Agda source code and generated files can be changed by editing the <code>Makefile</code>. The location of the directory <code>docs</code> can be configured by setting <code>docs_dir</code> in <code>mkdocs.yml</code>.</p>"},{"location":"#software-dependencies","title":"Software dependencies","text":"<ul> <li>Agda (2.7.0)</li> <li>GNU Make</li> <li>[sd] (1.0.0)</li> </ul>"},{"location":"#website-generation","title":"Website generation","text":"<ul> <li>[Python 3] (<code>python 3.11.3</code>)</li> <li>[Pip] (<code>pip 25.2</code>)</li> <li>[MkDocs] (<code>mkdocs 1.6.1</code>)</li> <li>Material for MkDocs (<code>mkdocs-material 9.6.19</code>)</li> <li>[Awesome-nav] (<code>mkdocs-awesome-nav 3.2.0</code>)</li> </ul>"},{"location":"#pdf-generation","title":"PDF generation","text":"<ul> <li>[TeXLive] (2025)</li> </ul>"},{"location":"#platform-dependencies","title":"Platform dependencies","text":"<p>Agda-Material has been developed and tested on MacBook laptops with Apple M1 and M3 chips running macOS Sequoia (15.5) with CLI Tools.</p> <p>Please report any issues with using Agda-Material on other platforms, including all relevant details.</p> <p>Pull requests for addressing such issues are welcome. They should include the results of tests that demonstrate the benefit of the PR.</p>"},{"location":"#getting-started","title":"Getting started","text":"<p>To use Agda-Material, either create a copy of it as a fresh repository or copy the files to an existing repository.</p> <p>In both cases, update the content of the Markdown files in <code>docs</code> and the settings in <code>mkdocs.yml</code> before generating a website or a PDF.</p>"},{"location":"#create-a-fresh-repository","title":"Create a fresh repository","text":"<p>On [pdmosses/agda-material]:</p> <ul> <li> Click on the Use this template button (near the top of the page)</li> </ul> <p>Locally: </p> <ul> <li> Clone the resulting repository</li> </ul>"},{"location":"#copy-files-to-your-existing-repository","title":"Copy files to your existing repository","text":"<p>On [pdmosses/agda-material]:</p> <ul> <li> Click on &lt;&gt; Code then Clone or Download</li> </ul> <p>Locally:</p> <ul> <li> <p> Copy/merge the following files and directories from <code>agda-material</code>   to your repository:</p> <ul> <li> <code>Makefile</code></li> <li> <code>mkdocs.yml</code></li> <li> <code>agda-custom.tex</code></li> <li> <code>agda/*</code></li> <li> <code>docs/*</code></li> <li> <code>.gitignore</code></li> </ul> </li> </ul>"},{"location":"#testing-agda-material","title":"Testing Agda-Material","text":"<ol> <li> <p>In a terminal:</p> <pre><code>cd agda-material\nmake\n</code></pre> </li> <li> <p>Then in a web browser:</p> <ul> <li>Open <code>localhost:8000/agda-material</code></li> <li>Check that the local site corresponds to <code>https://pdmosses.github.io/agda-material</code></li> </ul> </li> <li> <p>In the terminal:</p> <pre><code>make clean\n</code></pre> </li> <li> <p>Check that the following generated files have all been removed:</p> <ul> <li><code>docs/html/*.html</code></li> <li><code>docs/md/**.md</code></li> <li><code>docs/pdf/*.pdf</code></li> <li><code>latex/**.tex</code></li> </ul> </li> </ol>"},{"location":"#using-agda-material","title":"Using Agda-Material","text":""},{"location":"#update-markdown-files-and-settings","title":"Update Markdown files and settings","text":"<p>Update the following fields in <code>mkdocs.yml</code>:</p> <ul> <li><code>site_name</code></li> <li><code>site_url</code></li> <li><code>repo_name</code></li> <li><code>repo_url</code></li> </ul>"},{"location":"#replace-the-agda-source-files","title":"Replace the Agda source files","text":"<pre><code>make check \n</code></pre> <p>Any type-checking errors are shown.</p>"},{"location":"#generate-highlighted-listings-of-all-the-agda-code","title":"Generate highlighted listings of all the Agda code","text":"<pre><code>make all\n</code></pre> <p>The log of generating any missing or outdated PDFs of the highlighted listings is shown.</p>"},{"location":"#further-commands","title":"Further commands","text":"<pre><code>make help\n</code></pre> <p>A summary of all available <code>make</code> commands is shown.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Please use the issue tracker to report any issues that arise.</p> <p>Comments and suggestions for improvement are welcome, and can be added as [Discussions].</p>"},{"location":"#contact","title":"Contact","text":"<p>Peter Mosses</p> <p>p.d.mosses@tudelft.nl</p> <p>https://pdmosses.github.io</p> <ol> <li> <p>In case of name clashes with existing files or directories, it may be necessary to move them, or to modify the <code>Makefile</code>.\u00a0\u21a9</p> </li> </ol>"},{"location":"about/","title":"Agda-Material","text":"<p>This repository supports generation of websites and PDFs with highlighted code from (plain and/or literate) Agda source files.</p> <p>Currently, Agda can generate a directory of highlighted, hyperlinked web pages from a single (plain or literate) source file, including all imported modules. But it is left to the user to incorporate the pages in a website.</p> <p>Agda can also generate a LaTeX file for highlighting the source code of a single (plain or literate) source file. But the user needs to generate LaTeX files for imported modules individually, as well as provide a complete LaTeX document that inputs the generated files.</p> <p>Agda-Material automates the steps that Agda leaves to the user when generating web pages and LaTeX files. After creating a repository from the Agda-Material template and adding Agda code (or copying the files to an existing code repository), running the command <code>make</code> generates a website and a PDF includng all the files imported by a root <code>index</code> file.</p>"},{"location":"about/#main-features","title":"Main features","text":"<ul> <li> <p>Automatic regeneration:   run <code>make</code> to regenerate all outdated web pages and PDFs</p> </li> <li> <p>Automatic publication:   run <code>make pub</code> to publish the updated website</p> </li> </ul>"},{"location":"about/#generated-websites","title":"Generated websites","text":"<ul> <li> <p>Navigation menu:   a hierarchical menu with links to all imported Agda modules</p> </li> <li> <p>Hyperlinks:   clicking on a name jumps straight to its declaration</p> </li> <li> <p>Light or dark:   toggle between light, dark, and automatic color palette</p> </li> <li> <p>Responsive page layout:   browse on tablets and mobile devices as well as desktop</p> </li> <li> <p>Options:   inclusion of ordinary web pages generated by Agda</p> </li> </ul>"},{"location":"about/#generated-pdfs","title":"Generated PDFs","text":"<ul> <li> <p>Generated root document:   inputs LaTeX sources generated by Agda from local modules</p> </li> <li> <p>Table of contents:   links to sections for all the included modules</p> </li> <li> <p>Option for highlighting styles:   color palettes supported by the <code>agda</code> package</p> </li> </ul>"},{"location":"md/","title":"index","text":"<p>This module imports all the other modules (directly or indirectly).</p> <p>They can be reached either using the links in the navigation panels, or by clicking on the module names in the highlighted code below.</p> <pre>\nmodule index where\n\nimport Test\nimport Test.All\nimport Test.Sub.Not-Imported\n</pre>"},{"location":"md/Test/","title":"Test","text":"<p>Copied from examples/syntax/highlighting/Test3.lagda in the agda/agda repository, with additional literate prose by @pdmosses</p> <p>This test file currently lacks module-related stuff.</p> <p>And interesting uses of shadowing.</p> <pre>\nmodule Test where\n\ninfix  12 _!\ninfixl  7 _+_ _-_\ninfixr  2 -_\n\ndata \u2115 : Set where\n  zero : \u2115\n  suc  : \u2115 -&gt; \u2115\n</pre> <p>The type Set is declared in the built-in module Agda.Primitive.</p> <pre>\n_+_ : \u2115 -&gt; \u2115 -&gt; \u2115\nzero  + n = n\nsuc m + n = suc (m + n)\n\npostulate _-_ : \u2115 -&gt; \u2115 -&gt; \u2115\n\n-_ : \u2115 -&gt; \u2115\n- n = n\n\n_! : \u2115 -&gt; \u2115\nzero  ! = suc zero\nsuc n ! = n - n !\n\nrecord Equiv {a : Set} (_\u2248_ : a -&gt; a -&gt; Set) : Set where\n  field\n    refl      : forall x       -&gt; x \u2248 x\n    sym       : {x y : a}      -&gt; x \u2248 y -&gt; y \u2248 x\n    _`trans`_ : forall {x y z} -&gt; x \u2248 y -&gt; y \u2248 z -&gt; x \u2248 z\n\ndata _\u2261_ {a : Set} (x : a) : a -&gt; Set where\n  refl : x \u2261 x\n\nsubst : forall {a x y} -&gt;\n  (P : a -&gt; Set) -&gt; x \u2261 y -&gt; P x -&gt; P y\nsubst {x = x} .{y = x} _ refl p = p\n\nEquiv-\u2261 : forall {a} -&gt; Equiv {a} _\u2261_\nEquiv-\u2261 {a} =\n  record { refl      = \\_ -&gt; refl\n         ; sym       = sym\n         ; _`trans`_ = _`trans`_\n         }\n  where\n  sym : {x y : a} -&gt; x \u2261 y -&gt; y \u2261 x\n  sym refl = refl\n\n  _`trans`_ : {x y z : a} -&gt; x \u2261 y -&gt; y \u2261 z -&gt; x \u2261 z\n  refl `trans` refl = refl\n\npostulate\n  String : Set\n  Char   : Set\n  Float  : Set\n\n{-# BUILTIN STRING  String #-}\n{-# BUILTIN CHAR    Char   #-}\n{-# BUILTIN FLOAT   Float  #-}\n\n{-# BUILTIN NATURAL \u2115      #-}\n\ndata [_] (a : Set) : Set where\n  []  : [ a ]\n  _\u2237_ : a -&gt; [ a ] -&gt; [ a ]\n\n{-# BUILTIN LIST [_] #-}\n-- {-# BUILTIN NIL  []  #-}\n-- {-# BUILTIN CONS _\u2237_ #-}\n\nprimitive\n  primStringToList : String -&gt; [ Char ]\n\nstring : [ Char ]\nstring = primStringToList \"\u2203 apa\"\n\nchar : Char\nchar = '\u2200'\n\nanotherString : String\nanotherString = \"\u00ac be\\\n    \\pa\"\n\nnat : \u2115\nnat = 45\n\nfloat : Float\nfloat = 45.0e-37\n</pre>"},{"location":"md/Agda/Primitive/","title":"Agda.Primitive","text":"<pre>-- The Agda primitives (preloaded).\n\n{-# OPTIONS --cubical-compatible --no-import-sorts --level-universe #-}\n\nmodule Agda.Primitive where\n\n------------------------------------------------------------------------\n-- Universe levels\n------------------------------------------------------------------------\n\ninfixl 6 _\u2294_\n\n{-# BUILTIN PROP           Prop      #-}\n{-# BUILTIN TYPE           Set       #-}\n{-# BUILTIN STRICTSET      SSet      #-}\n\n{-# BUILTIN PROPOMEGA      Prop\u03c9     #-}\n{-# BUILTIN SETOMEGA       Set\u03c9      #-}\n{-# BUILTIN STRICTSETOMEGA SSet\u03c9     #-}\n\n{-# BUILTIN LEVELUNIV      LevelUniv #-}\n\n-- Level is the first thing we need to define.\n-- The other postulates can only be checked if built-in Level is known.\n\npostulate\n  Level : LevelUniv\n\n-- MAlonzo compiles Level to (). This should be safe, because it is\n-- not possible to pattern match on levels.\n\n{-# BUILTIN LEVEL Level #-}\n\npostulate\n  lzero : Level\n  lsuc  : (\u2113 : Level) \u2192 Level\n  _\u2294_   : (\u2113\u2081 \u2113\u2082 : Level) \u2192 Level\n\n{-# BUILTIN LEVELZERO lzero #-}\n{-# BUILTIN LEVELSUC  lsuc  #-}\n{-# BUILTIN LEVELMAX  _\u2294_   #-}\n</pre>"},{"location":"md/Test/All/","title":"Test.All","text":"<p>First text line</p> <pre>\nmodule Test.All where\n\nimport Test.Sub.Base\n\n-- Just testing...\n</pre> <p>Literate prose is included in generated webpages and PDFs. It is generally rendered as plain text:</p> <ul> <li> <p>Blank lines produce paragraph breaks,   but line breaks and indentation are otherwise ignored.</p> </li> <li> <p>URLs do not become links.</p> </li> <li> <p>Characters treated as special by LaTeX lead to errors when generating PDFs.</p> </li> <li> <p>Use of Unicode characters in generated PDFs may require mapping them to   LaTeX markup.</p> </li> </ul> <p>The subset of LaTeX math markup supported by KaTeX (https://katex.org) is rendered correctly in webpages and PDFs. The following examples are from the Material for MkDocs website:</p> <p>$$ \\cos x=\\sum_{k=0}^{\\infty}\\frac{(-1)^k}{(2k)!}x^{2k} $$</p> <p>The homomorphism $f$ is injective if and only if its kernel is only the singleton set $e_G$, because otherwise $\\exists a,b\\in G$ with $a\\neq b$ such that $f(a)=f(b)$.</p> <pre>\n-- More code\n</pre> <p>Last text line</p>"},{"location":"md/Test/Sub/Base/","title":"Test.Sub.Base","text":"<pre>\nmodule Test.Sub.Base where\n</pre> <p>This module is imported by Test.All,  and should be included in the website generated from Test.All.</p>"},{"location":"md/Test/Sub/Not-Imported/","title":"Test.Sub.Not-Imported","text":"<pre>\nmodule Test.Sub.Not-Imported where\n\nimport Test\n</pre> <p>This module is not imported by Test.All, and should not be included in the website generated from Test.All.</p>"}]}